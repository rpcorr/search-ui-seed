webpackJsonpCoveo__temporary([19,55,65],{177:function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),s=n(467),r=n(6),a=n(1),l=n(25),u=n(20),c=function(){function e(e,t,n,s){void 0===n&&(n=o.ModalBox),void 0===s&&(s={}),this.className=e,this.ownerElement=t,this.modalboxModule=n,this.options=i({sizeMod:"big"},s)}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return!!this.focusTrap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.activeModal&&this.activeModal.modalBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this.activeModal&&this.activeModal.content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapper",{get:function(){return this.activeModal&&this.activeModal.wrapper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerElement",{get:function(){return this.element&&this.element.querySelector(".coveo-modal-header h1")},enumerable:!0,configurable:!0}),e.prototype.openResult=function(e){this.isOpen||(this.openModalAndTrap({content:e.content,validation:e.validation,origin:e.origin,title:u.DomUtils.getQuickviewHeader(e.result,e.options,e.bindings).el}),this.makeAccessible(e.options.title||e.result.title))},e.prototype.open=function(e){this.isOpen||(this.openModalAndTrap(e),this.makeAccessible())},e.prototype.openModalAndTrap=function(e){var t=this;this.initiallyFocusedElement=e.origin||document.activeElement,this.activeModal=this.modalboxModule.open(e.content,{title:e.title,className:this.className,validation:function(){return t.onModalClose(),e.validation()},body:this.ownerElement,sizeMod:this.options.sizeMod,overlayClose:this.options.overlayClose}),this.focusTrap=new s.FocusTrap(this.element)},e.prototype.close=function(){this.isOpen&&(this.activeModal.close(),this.activeModal=null)},e.prototype.makeAccessible=function(e){this.element.setAttribute("aria-modal","true"),e&&this.headerElement.setAttribute("aria-label",e),this.makeCloseButtonAccessible(),this.updateFocus()},Object.defineProperty(e.prototype,"closeButton",{get:function(){return this.element.querySelector(".coveo-small-close")},enumerable:!0,configurable:!0}),e.prototype.makeCloseButtonAccessible=function(){var e=this.closeButton;e.setAttribute("aria-label",r.l("Close")),e.setAttribute("role","button"),e.tabIndex=0,a.$$(e).on("keyup",l.KeyboardUtils.keypressAction(l.KEYBOARD.ENTER,function(){return e.click()}))},e.prototype.updateFocus=function(){(this.options.focusOnOpen&&this.options.focusOnOpen()||this.closeButton).focus()},e.prototype.onModalClose=function(){this.focusTrap.disable(),this.focusTrap=null,this.initiallyFocusedElement&&document.body.contains(this.initiallyFocusedElement)&&this.initiallyFocusedElement.focus()},e}();t.AccessibleModal=c},295:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function r(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,a)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(r=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,s=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){l.label=n[1];break}if(6===n[0]&&l.label<r[1]){l.label=r[1],r=n;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(n);break}r[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],s=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,s,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(26),l=n(3),u=n(7),c=n(20);n(701);var p=n(0),h=n(702),d=n(10),f=n(703),b=n(704),m=n(6),y=n(519),v=n(4),g=n(8),A=n(520),S=n(69),C=[{analytics:d.AnalyticsSmartSnippetFeedbackReason.DoesNotAnswer,localeKey:"UsefulnessFeedbackDoesNotAnswer"},{analytics:d.AnalyticsSmartSnippetFeedbackReason.PartiallyAnswers,localeKey:"UsefulnessFeedbackPartiallyAnswers"},{analytics:d.AnalyticsSmartSnippetFeedbackReason.WasNotAQuestion,localeKey:"UsefulnessFeedbackWasNotAQuestion"},{analytics:d.AnalyticsSmartSnippetFeedbackReason.Other,localeKey:"Other",hasDetails:!0}],E="coveo-smart-snippet",O=E+"-content-wrapper",N=E+"-source";t.SmartSnippetClassNames={QUESTION_CLASSNAME:"coveo-smart-snippet-question",ANSWER_CONTAINER_CLASSNAME:"coveo-smart-snippet-answer",HAS_ANSWER_CLASSNAME:"coveo-smart-snippet-has-answer",SHADOW_CLASSNAME:"coveo-smart-snippet-content",CONTENT_CLASSNAME:O,SOURCE_CLASSNAME:N,SOURCE_TITLE_CLASSNAME:"coveo-smart-snippet-source-title",SOURCE_URL_CLASSNAME:"coveo-smart-snippet-source-url"};var k=function(e){function t(n,i,o,s){void 0===s&&(s=a.ModalBox);var r=e.call(this,n,t.ID,o)||this;return r.element=n,r.options=i,r.ModalBox=s,r.lastRenderedResult=null,r.options=g.ComponentOptions.initComponentOptions(n,t,i),r.bind.onRootElement(c.QueryEvents.deferredQuerySuccess,function(e){return r.handleQuerySuccess(e)}),r}return i(t,e),Object.defineProperty(t.prototype,"loading",{get:function(){return this.shadowLoading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){var e=c.$$(this.element).children().filter(function(e){return e instanceof HTMLScriptElement&&"text/css"===e.type.toLowerCase()}).map(function(e){return e.innerHTML});return e.length?e.join("\n"):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAnswer",{set:function(e){c.$$(this.element).toggleClass("coveo-smart-snippet-has-answer",e)},enumerable:!0,configurable:!0}),t.prototype.createDom=function(){var e=this;this.element.appendChild(this.buildAnswerContainer()),this.feedbackBanner=new h.UserFeedbackBanner(function(t){return t?e.sendLikeSmartSnippetAnalytics():e.sendDislikeSmartSnippetAnalytics()},function(){return e.openExplanationModal()}),this.element.appendChild(this.feedbackBanner.build()),this.explanationModal=new b.ExplanationModal({reasons:C.map(function(t){return{label:m.l(t.localeKey),id:t.analytics.replace(/_/g,"-"),onSelect:function(){return e.sendExplanationAnalytics(t.analytics,e.explanationModal.details)},hasDetails:t.hasDetails}}),onClosed:function(){return e.sendCloseFeedbackModalAnalytics()},ownerElement:this.searchInterface.options.modalContainer,modalBoxModule:this.ModalBox})},t.prototype.buildAnswerContainer=function(){return c.$$("div",{className:"coveo-smart-snippet-answer"},this.buildQuestion(),this.buildShadow(),this.buildHeightLimiter(),this.buildSourceContainer()).el},t.prototype.buildQuestion=function(){return this.questionContainer=c.$$("div",{className:"coveo-smart-snippet-question"}).el},t.prototype.buildShadow=function(){var e=this;return this.shadowContainer=c.$$("div",{className:"coveo-smart-snippet-content"}).el,this.snippetContainer=c.$$("section",{className:O}).el,this.shadowLoading=y.attachShadow(this.shadowContainer,{mode:"open",title:m.l("AnswerSnippet"),onSizeChanged:function(){return e.handleAnswerSizeChanged()},useIFrame:this.options.useIFrame}).then(function(t){t.appendChild(e.snippetContainer);var n=e.buildStyle();return t.appendChild(n),t}),this.shadowContainer},t.prototype.buildHeightLimiter=function(){var e=this;return(this.heightLimiter=new f.HeightLimiter(this.shadowContainer,this.shadowContainer.childNodes.item(0),this.options.maximumSnippetHeight,function(t){return t?e.sendExpandSmartSnippetAnalytics():e.sendCollapseSmartSnippetAnalytics()})).toggleButton},t.prototype.buildSourceContainer=function(){return this.sourceContainer=c.$$("div",{className:N}).el},t.prototype.buildStyle=function(){var e=v.Utils.isNullOrUndefined(this.style)?A.getDefaultSnippetStyle(O):this.style,t=document.createElement("style");return t.innerHTML=e,t},t.prototype.handleAnswerSizeChanged=function(){this.heightLimiter.onContentHeightChanged()},t.prototype.getCorrespondingResult=function(e){var t=this.queryController.getLastResults().results,n=p.flatten(p.map(t,function(e){return e.childResults})),i=p.flatten(p.map(t,function(e){return e.attachments}));return p.find(p.compact(t.concat(n,i)),function(t){return t.raw[e.documentId.contentIdKey]===e.documentId.contentIdValue})},t.prototype.handleQuerySuccess=function(e){return s(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return t=e.results.questionAnswer,this.containsQuestionAnswer(t)?(this.hasAnswer=!0,this.searchUid=e.results.searchUid,[4,this.render(t)]):(this.hasAnswer=!1,[2]);case 1:return n.sent(),[2]}})})},t.prototype.containsQuestionAnswer=function(e){return e&&e.question&&e.answerSnippet},t.prototype.render=function(e){return s(this,void 0,void 0,function(){return r(this,function(t){return this.ensureDom(),this.feedbackBanner.reset(),this.questionContainer.innerText=e.question,this.renderSnippet(e.answerSnippet),this.lastRenderedResult=this.getCorrespondingResult(e),this.lastRenderedResult?this.renderSource():this.lastRenderedResult=null,[2]})})},t.prototype.renderSnippet=function(e){this.snippetContainer.innerHTML=e},t.prototype.renderSource=function(){var e=c.$$(this.sourceContainer);e.empty(),e.append(this.renderSourceUrl().el),e.append(this.renderSourceTitle().el)},t.prototype.renderSourceTitle=function(){var e=this.buildLink("coveo-smart-snippet-source-title");return e.text(v.Utils.getFieldValue(this.lastRenderedResult,this.options.titleField)),e},t.prototype.renderSourceUrl=function(){var e=this.buildLink("coveo-smart-snippet-source-url");return e.text(e.el.href),e},t.prototype.buildLink=function(e){var t=this,n=c.$$("a",{className:"CoveoResultLink"});return n.addClass(e),new S.ResultLink(n.el,{hrefTemplate:this.options.hrefTemplate,logAnalytics:function(e){return t.sendClickSourceAnalytics(n.el,e)},alwaysOpenInNewWindow:this.options.alwaysOpenInNewWindow},o({},this.getBindings(),{resultElement:this.element}),this.lastRenderedResult),n},t.prototype.openExplanationModal=function(){this.sendOpenFeedbackModalAnalytics(),this.explanationModal.open(this.feedbackBanner.explainWhy)},t.prototype.sendLikeSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.likeSmartSnippet,{searchQueryUid:this.searchUid},this.element)},t.prototype.sendDislikeSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.dislikeSmartSnippet,{searchQueryUid:this.searchUid},this.element)},t.prototype.sendExpandSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.expandSmartSnippet,{searchQueryUid:this.searchUid},this.element)},t.prototype.sendCollapseSmartSnippetAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.collapseSmartSnippet,{searchQueryUid:this.searchUid},this.element)},t.prototype.sendOpenFeedbackModalAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.openSmartSnippetFeedbackModal,{searchQueryUid:this.searchUid},this.element)},t.prototype.sendCloseFeedbackModalAnalytics=function(){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.closeSmartSnippetFeedbackModal,{searchQueryUid:this.searchUid},this.element)},t.prototype.sendExplanationAnalytics=function(e,t){return this.usageAnalytics.logCustomEvent(d.analyticsActionCauseList.sendSmartSnippetReason,{searchQueryUid:this.searchUid,reason:e,details:t},this.element)},t.prototype.sendClickSourceAnalytics=function(e,t){return this.usageAnalytics.logClickEvent(d.analyticsActionCauseList.openSmartSnippetSource,{searchQueryUid:this.searchUid,documentTitle:this.lastRenderedResult.title,author:v.Utils.getFieldValue(this.lastRenderedResult,"author"),documentURL:t},this.lastRenderedResult,e)},t.ID="SmartSnippet",t.doExport=function(){l.exportGlobally({SmartSnippet:t})},t.options={maximumSnippetHeight:g.ComponentOptions.buildNumberOption({defaultValue:250,min:0}),titleField:g.ComponentOptions.buildFieldOption({defaultValue:"@title"}),hrefTemplate:g.ComponentOptions.buildStringOption(),alwaysOpenInNewWindow:g.ComponentOptions.buildBooleanOption({defaultValue:!1}),useIFrame:g.ComponentOptions.buildBooleanOption({defaultValue:!0})},t}(u.Component);t.SmartSnippet=k,c.Initialization.registerAutoCreateComponent(k)},467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=n(0),s=n(1),r=function(){function e(e,t){void 0===t&&(t={focusableSelector:"[tabindex], button"}),this.container=e,this.options=t,this.hiddenElements=[],this.enable()}return Object.defineProperty(e.prototype,"focusableElements",{get:function(){return o.chain(s.Dom.nodeListToArray(this.container.querySelectorAll(this.options.focusableSelector))).filter(function(e){return s.$$(e).isVisible()}).sortBy(function(e){return e.tabIndex}).value()},enumerable:!0,configurable:!0}),e.prototype.disable=function(){document.removeEventListener("focusin",this.focusInEvent),document.removeEventListener("focusout",this.focusOutEvent),this.showHiddenElements(),this.enabled=!1},e.prototype.enable=function(){var e=this;document.addEventListener("focusin",this.focusInEvent=function(t){return e.onFocusIn(t)}),document.addEventListener("focusout",this.focusOutEvent=function(t){return e.onFocusOut(t)}),this.hideAllExcept(this.container),this.enabled=!0},e.prototype.showHiddenElements=function(){for(;this.hiddenElements.length;)this.hiddenElements.pop().removeAttribute("aria-hidden")},e.prototype.hideElement=function(e){e.getAttribute("aria-hidden")||(this.hiddenElements.push(e),e.setAttribute("aria-hidden",""+!0))},e.prototype.hideSiblings=function(e){var t=this,n=e.parentElement;n&&o.without(s.$$(n).children(),e).forEach(function(e){t.hideElement(e)})},e.prototype.hideAllExcept=function(e){this.hideSiblings(e);var t=e.parentElement;t&&t!==document.body&&this.hideAllExcept(t)},e.prototype.getFocusableSibling=function(e,t){void 0===t&&(t=!1);var n=this.focusableElements,i=n.indexOf(e);return-1===i?null:n[(i+(t?-1:1)+n.length)%n.length]},e.prototype.focusSibling=function(e,t){void 0===t&&(t=!1);var n=this.getFocusableSibling(e,t);n&&n.focus()},e.prototype.focusFirstElement=function(){var e=this.focusableElements;e.length&&e[0].focus()},e.prototype.elementIsBefore=function(e,t){return!!t&&e.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_PRECEDING},e.prototype.onLosingFocus=function(e,t){var n=this;i.Defer.defer(function(){n.enabled&&(n.enabled=!1,e&&n.focusIsAllowed(e)?n.focusSibling(e,n.elementIsBefore(e,t)):n.focusFirstElement(),n.enabled=!0)})},e.prototype.focusIsAllowed=function(e){return this.container.contains(e)},e.prototype.elementIsInPage=function(e){return e&&e!==document.body.parentElement},e.prototype.onFocusIn=function(e){if(this.enabled){var t=e.relatedTarget;if(!this.elementIsInPage(t)){var n=e.target;this.elementIsInPage(n)&&(this.focusIsAllowed(n)||this.onLosingFocus(null,n))}}},e.prototype.onFocusOut=function(e){if(this.enabled){var t=e.relatedTarget;this.elementIsInPage(t)&&(t&&this.focusIsAllowed(t)||this.onLosingFocus(e.target,t))}},e}();t.FocusTrap=r},519:function(e,t,n){"use strict";function i(e,t){return s(this,void 0,void 0,function(){var n,i,s,l,u;return r(this,function(r){switch(r.label){case 0:return n={className:"coveo-shadow-iframe",scrolling:"no",title:t.title},t.useIFrame?(i=a.$$("iframe",n).el,l=new Promise(function(e){return i.addEventListener("load",function(){return e()})}),e.appendChild(i),[4,l]):[3,2];case 1:return r.sent(),s=i.contentDocument.body,[3,3];case 2:i=a.$$("div",n).el,s=i,e.appendChild(i),r.label=3;case 3:return s.style.margin="0",u=a.$$("div",{style:"overflow: auto;"}).el,s.appendChild(u),o(i,u,t.onSizeChanged),"open"===t.mode&&Object.defineProperty(e,"shadowRoot",{get:function(){return u}}),[2,u]}})})}function o(e,t,n){var i=t.clientWidth,o=t.clientHeight;new MutationObserver(function(){i===t.clientWidth&&o===t.clientHeight||(i=t.clientWidth,o=t.clientHeight,e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",n&&n())}).observe(t,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}var s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function r(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,a)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(r=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,s=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){l.label=n[1];break}if(6===n[0]&&l.label<r[1]){l.label=r[1],r=n;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(n);break}r[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],s=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,s,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);n(585),t.attachShadow=i},520:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSnippetStyle=function(e){return'\n  body {\n    font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif, sans-serif;\n  }\n\n  .'+e+" > :first-child {\n    margin-top: 0;\n  }\n\n  ."+e+" > :last-child {\n    margin-bottom: 0;\n  }\n"}},532:function(e,t){},558:function(e,t){},585:function(e,t){},69:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),r=n(8),a=n(28),l=n(10),u=n(29),c=n(67),p=n(24),h=n(178),d=n(2),f=n(21),b=n(5),m=n(4),y=n(31),v=n(1),g=n(118),A=n(22),S=n(0),C=n(3);n(532);var E=n(15),O=function(e){function t(n,i,s,l,u){var c=e.call(this,n,t.ID,s)||this;c.element=n,c.options=i,c.bindings=s,c.result=l,c.os=u,c.logAnalytics=S.debounce(function(){c.queryController.saveLastQuery();var e=v.$$(c.element).getAttribute("href");void 0!=e&&""!=e||(e=c.escapedClickUri),c.options.logAnalytics?c.options.logAnalytics(e):c.logDocumentOpen(e),y.Defer.flush()},1500,!0);var h=c.searchInterface.options.originalOptionsObject[t.ID]||{},d=r.ComponentOptions.initComponentOptions(n,t,o({},h,i)),f=c.componentOptionsModel.get(a.ComponentOptionsModel.attributesEnum.resultLink);if(c.options=S.extend({},d,f),c.result=l||c.resolveResult(),null==c.options.openQuickview&&(c.options.openQuickview="ExchangeCrawler"==l.raw.connectortype&&p.DeviceUtils.isMobileDevice()),c.element.hasAttribute("tabindex")||c.element.setAttribute("tabindex","0"),b.Assert.exists(c.componentOptionsModel),b.Assert.exists(c.result),!c.quickviewShouldBeOpened()){var m=S.once(function(){return c.logAnalytics()});v.$$(n).on(["contextmenu","click","mousedown","mouseup"],m);var g;v.$$(n).on("touchstart",function(){g=window.setTimeout(m,1e3)}),v.$$(n).on("touchend",function(){g&&clearTimeout(g)})}return c.renderUri(n,l),c.bindEventToOpen(),c}return i(t,e),t.prototype.renderUri=function(e,t){if(/^\s*$/.test(this.element.innerHTML)){var n=this.getDisplayedTitle();this.element.innerHTML=n;var i=this.getDisplayedTitleAsText();this.element.hasAttribute("aria-label")||this.element.setAttribute("aria-label",i),this.element.title||(this.element.title=i)}},t.prototype.openLink=function(e){void 0===e&&(e=!0),e&&this.logAnalytics(),window.location.href=this.getResultUri()},t.prototype.openLinkInNewWindow=function(e){void 0===e&&(e=!0),e&&this.logAnalytics(),window.open(this.getResultUri(),"_blank")},t.prototype.openLinkInOutlook=function(e){void 0===e&&(e=!0),this.hasOutlookField()&&(e&&this.logAnalytics(),this.openLink())},t.prototype.openLinkAsConfigured=function(e){void 0===e&&(e=!0),this.toExecuteOnOpen&&(e&&this.logAnalytics(),this.toExecuteOnOpen())},t.prototype.bindEventToOpen=function(){return this.bindOnClickIfNotUndefined()||this.bindOpenQuickviewIfNotUndefined()||this.setHrefIfNotAlready()||this.openLinkThatIsNotAnAnchor()},t.prototype.getDisplayedTitle=function(){if(this.options.titleTemplate){var e=A.StringUtils.buildStringTemplateFromResult(this.options.titleTemplate,this.result);return e?g.StreamHighlightUtils.highlightStreamText(e,this.result.termsToHighlight,this.result.phrasesToHighlight):this.escapedClickUri}return this.result.title?c.HighlightUtils.highlightString(this.result.title,this.result.titleHighlights,null,"coveo-highlight"):this.escapedClickUri},t.prototype.getDisplayedTitleAsText=function(){var e=v.$$("div");return e.setHtml(this.getDisplayedTitle()),e.text()},Object.defineProperty(t.prototype,"escapedClickUri",{get:function(){return S.escape(this.result.clickUri)},enumerable:!0,configurable:!0}),t.prototype.bindOnClickIfNotUndefined=function(){var e=this;return void 0!=this.options.onClick&&(this.toExecuteOnOpen=function(t){e.options.onClick.call(e,t,e.result)},(new E.AccessibleButton).withElement(this.element).withLabel(this.result.title).withSelectAction(function(t){return e.toExecuteOnOpen(t)}).build(),!0)},t.prototype.bindOpenQuickviewIfNotUndefined=function(){var e=this;return!!this.quickviewShouldBeOpened()&&(this.toExecuteOnOpen=function(){v.$$(e.bindings.resultElement).trigger(u.ResultListEvents.openQuickview)},v.$$(this.element).on("click",function(t){t.preventDefault(),e.toExecuteOnOpen()}),!0)},t.prototype.openLinkThatIsNotAnAnchor=function(){var e=this;return!this.elementIsAnAnchor()&&(this.toExecuteOnOpen=function(){e.options.alwaysOpenInNewWindow?e.options.openInOutlook?e.openLinkInOutlook():e.openLinkInNewWindow():e.openLink()},v.$$(this.element).on("click",function(){e.toExecuteOnOpen()}),!0)},t.prototype.setHrefIfNotAlready=function(){return!(!this.elementIsAnAnchor()||m.Utils.isNonEmptyString(v.$$(this.element).getAttribute("href")))&&(v.$$(this.element).setAttribute("href",this.getResultUri()),!this.options.alwaysOpenInNewWindow||this.options.openInOutlook&&this.hasOutlookField()||v.$$(this.element).setAttribute("target","_blank"),!0)},t.prototype.logDocumentOpen=function(e){this.usageAnalytics.logClickEvent(l.analyticsActionCauseList.documentOpen,{documentURL:e,documentTitle:this.result.title,author:m.Utils.getFieldValue(this.result,"author")},this.result,this.root)},t.prototype.filterProtocol=function(e){var t=/^(https?|ftp|file|mailto|tel):/i.test(e),n=/^(\/|\.\/|\.\.\/)/.test(e);return t||n?e:""},t.prototype.getResultUri=function(){if(this.options.hrefTemplate){var e=A.StringUtils.buildStringTemplateFromResult(this.options.hrefTemplate,this.result);return this.filterProtocol(e)}return void 0==this.options.field&&this.options.openInOutlook&&this.setField(),void 0!=this.options.field?this.filterProtocol(m.Utils.getFieldValue(this.result,this.options.field)):this.filterProtocol(this.result.clickUri)},t.prototype.elementIsAnAnchor=function(){return"A"==this.element.tagName},t.prototype.setField=function(){var e=m.Utils.exists(this.os)?this.os:h.OSUtils.get();e==h.OS_NAME.MACOSX&&this.hasOutlookField()?this.options.field="@outlookformacuri":e==h.OS_NAME.WINDOWS&&this.hasOutlookField()&&(this.options.field="@outlookuri")},t.prototype.hasOutlookField=function(){var e=m.Utils.exists(this.os)?this.os:h.OSUtils.get();return e==h.OS_NAME.MACOSX&&void 0!=this.result.raw.outlookformacuri||e==h.OS_NAME.WINDOWS&&void 0!=this.result.raw.outlookuri},t.prototype.isUriThatMustBeOpenedInQuickview=function(){return 0==this.escapedClickUri.toLowerCase().indexOf("ldap://")},t.prototype.quickviewShouldBeOpened=function(){return(this.options.openQuickview||this.isUriThatMustBeOpenedInQuickview())&&f.QueryUtils.hasHTMLVersion(this.result)},t.ID="ResultLink",t.doExport=function(){C.exportGlobally({ResultLink:t})},t.options={field:r.ComponentOptions.buildFieldOption(),openInOutlook:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),openQuickview:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),alwaysOpenInNewWindow:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),hrefTemplate:r.ComponentOptions.buildStringOption(),titleTemplate:r.ComponentOptions.buildStringOption(),onClick:r.ComponentOptions.buildCustomOption(function(){return null}),logAnalytics:r.ComponentOptions.buildCustomOption(function(){return null})},t}(s.Component);t.ResultLink=O,d.Initialization.registerAutoCreateComponent(O)},701:function(e,t){},702:function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(1),r=n(6),a=n(12),l=n(0),u="coveo-user-feedback-banner",c=u+"-label",p=u+"-button-active",h="coveo-user-feedback-banner-thanks-icon";!function(e){e[e.Unknown=0]="Unknown",e[e.Yes=1]="Yes",e[e.No=2]="No"}(o||(o={})),t.UserFeedbackBannerClassNames={ROOT_CLASSNAME:u,CONTAINER_CLASSNAME:"coveo-user-feedback-banner-container",LABEL_CLASSNAME:c,BUTTONS_CONTAINER_CLASSNAME:"coveo-user-feedback-banner-buttons",YES_BUTTON_CLASSNAME:"coveo-user-feedback-banner-yes-button",NO_BUTTON_CLASSNAME:"coveo-user-feedback-banner-no-button",BUTTON_ACTIVE_CLASSNAME:p,THANK_YOU_BANNER_CLASSNAME:"coveo-user-feedback-banner-thanks",THANK_YOU_BANNER_ACTIVE_CLASSNAME:"coveo-user-feedback-banner-thanks-active",ICON_CLASSNAME:h,EXPLAIN_WHY_CLASSNAME:"coveo-user-feedback-banner-explain-why",EXPLAIN_WHY_ACTIVE_CLASSNAME:"coveo-user-feedback-banner-explain-why-active"};var d=function(){function e(e,t){this.sendUsefulnessAnalytics=e,this.onExplainWhyPressed=t,this.isUseful=o.Unknown,this.labelId=l.uniqueId(c)}return e.prototype.build=function(){return s.$$("div",{className:u,ariaLive:"polite"},this.buildContainer(),this.buildThankYouBanner()).el},e.prototype.reset=function(){this.isUseful=o.Unknown,s.$$(this.yesButton).removeClass(p),s.$$(this.yesButton).setAttribute("aria-pressed","false"),s.$$(this.noButton).removeClass(p),s.$$(this.noButton).setAttribute("aria-pressed","false"),s.$$(this.thankYouBanner).removeClass("coveo-user-feedback-banner-thanks-active"),s.$$(this.explainWhy).removeClass("coveo-user-feedback-banner-explain-why-active")},e.prototype.buildContainer=function(){return s.$$("div",{className:"coveo-user-feedback-banner-container",ariaLabelledby:this.labelId},this.buildLabel(),this.buildButtons()).el},e.prototype.buildLabel=function(){return s.$$("span",{className:c,id:this.labelId},r.l("UsefulnessFeedbackRequest")).el},e.prototype.buildThankYouBanner=function(){var e=this;this.thankYouBanner=s.$$("div",{className:"coveo-user-feedback-banner-thanks"}).el;var t=s.$$("span",{},r.l("UsefulnessFeedbackThankYou")).el;return this.thankYouBanner.appendChild(t),this.explainWhy=this.buildButton({text:r.l("UsefulnessFeedbackExplainWhy"),className:"coveo-user-feedback-banner-explain-why",action:function(){return e.requestExplaination()}}),this.thankYouBanner.appendChild(this.explainWhy),this.thankYouBanner},e.prototype.buildButtons=function(){var e=this,t=s.$$("div",{className:"coveo-user-feedback-banner-buttons"}).el;return this.yesButton=this.buildButton({text:r.l("Yes"),className:"coveo-user-feedback-banner-yes-button",action:function(){return e.showThankYouBanner(!0)},icon:{className:h,content:a.SVGIcons.icons.checkYes},attributes:{ariaPressed:!1,ariaDescribedby:this.labelId}}),this.yesButton.setAttribute("aria-pressed","false"),t.appendChild(this.yesButton),this.noButton=this.buildButton({text:r.l("No"),className:"coveo-user-feedback-banner-no-button",action:function(){return e.showThankYouBanner(!1)},icon:{className:h,content:a.SVGIcons.icons.clearSmall},attributes:{ariaPressed:!1,ariaDescribedby:this.labelId}}),t.appendChild(this.noButton),t},e.prototype.buildButton=function(e){var t=s.$$("button",i({},e.attributes||{},{className:e.className,type:"button"})).el;if(e.icon){var n=s.$$("span",{className:e.icon.className},e.icon.content).el;t.appendChild(n);var o=s.$$("span",{},e.text).el;t.appendChild(o)}else t.innerText=e.text;return t.addEventListener("click",function(){return e.action()}),t},e.prototype.showThankYouBanner=function(e){this.isUseful!==o.Unknown&&e===(this.isUseful===o.Yes)||(this.isUseful=e?o.Yes:o.No,s.$$(this.yesButton).toggleClass(p,e),s.$$(this.yesButton).setAttribute("aria-pressed",""+e),s.$$(this.noButton).toggleClass(p,!e),s.$$(this.noButton).setAttribute("aria-pressed",""+!e),s.$$(this.thankYouBanner).addClass("coveo-user-feedback-banner-thanks-active"),s.$$(this.explainWhy).toggleClass("coveo-user-feedback-banner-explain-why-active",!e),this.sendUsefulnessAnalytics(e))},e.prototype.requestExplaination=function(){this.onExplainWhyPressed()},e}();t.UserFeedbackBanner=d},703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(12),s=n(6),r="coveo-height-limiter-button";t.HeightLimiterClassNames={CONTAINER_ACTIVE_CLASSNAME:"coveo-height-limiter-container-active",CONTAINER_EXPANDED_CLASSNAME:"coveo-height-limiter-container-expanded",BUTTON_CLASSNAME:r,BUTTON_LABEL_CLASSNAME:"coveo-height-limiter-button-label",BUTTON_ICON_CLASSNAME:"coveo-height-limiter-button-icon",BUTTON_ACTIVE_CLASSNAME:"coveo-height-limiter-button-active"};var a=function(){function e(e,t,n,i){this.containerElement=e,this.contentElement=t,this.heightLimit=n,this.onToggle=i,this.isExpanded=!1,this.buildButton(),this.updateActiveAppearance()}return Object.defineProperty(e.prototype,"toggleButton",{get:function(){return this.button},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this.containerElement.style.height=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.contentElement.clientHeight},enumerable:!0,configurable:!0}),e.prototype.onContentHeightChanged=function(){this.updateActiveAppearance()},e.prototype.buildButton=function(){var e=this;return this.button=i.$$("button",{className:r,type:"button",ariaLabel:s.l("ShowMore"),ariaPressed:"false",ariaHidden:"true"},this.buttonLabel=i.$$("span",{className:"coveo-height-limiter-button-label"}).el,this.buttonIcon=i.$$("span",{className:"coveo-height-limiter-button-icon"}).el).el,this.button.addEventListener("click",function(){return e.toggle()}),this.updateButton(),this.button},e.prototype.updateActiveAppearance=function(){var e=this.contentHeight>this.heightLimit;i.$$(this.containerElement).toggleClass("coveo-height-limiter-container-active",e),i.$$(this.button).toggleClass("coveo-height-limiter-button-active",e),e?this.updateExpandedAppearance():(this.isExpanded=!1,this.updateExpandedAppearance(),this.containerElement.style.height="")},e.prototype.updateButton=function(){this.buttonLabel.innerText=this.isExpanded?s.l("ShowLess"):s.l("ShowMore"),this.button.setAttribute("aria-pressed",""+this.isExpanded),this.buttonIcon.innerHTML=this.isExpanded?o.SVGIcons.icons.arrowUp:o.SVGIcons.icons.arrowDown},e.prototype.updateExpandedAppearance=function(){this.updateButton(),i.$$(this.containerElement).toggleClass("coveo-height-limiter-container-expanded",this.isExpanded),this.height=this.isExpanded?this.contentHeight:this.heightLimit},e.prototype.toggle=function(){this.isExpanded=!this.isExpanded,this.updateExpandedAppearance(),this.onToggle&&this.onToggle(this.isExpanded)},e}();t.HeightLimiter=a},704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(177),o=n(6),s=n(1),r=n(97);n(705);var a="coveo-user-explanation-modal",l=a+"-content",u=a+"-explanation-section",c=a+"-explanations",p=c+"-label",h=a+"-details",d=h+"-textarea",f=h+"-label",b=a+"-buttons-section",m=a+"-send-button",y=a+"-cancel-button",v=h;t.ExplanationModalClassNames={ROOT_CLASSNAME:a,CONTENT_CLASSNAME:l,EXPLANATION_SECTION_CLASSNAME:u,REASONS_CLASSNAME:c,REASONS_LABEL_CLASSNAME:p,DETAILS_SECTION_CLASSNAME:h,DETAILS_TEXTAREA_CLASSNAME:d,DETAILS_LABEL_CLASSNAME:f,BUTTONS_SECTION_CLASSNAME:b,SEND_BUTTON_CLASSNAME:m,CANCEL_BUTTON_CLASSNAME:y};var g=function(){function e(e){var t=this;this.options=e,this.shouldCallCloseEvent=!1,this.modal=new i.AccessibleModal(a,this.options.ownerElement,this.options.modalBoxModule,{focusOnOpen:function(){return t.sendButton()}})}return e.prototype.sendButton=function(){return this.modal.element.querySelector("."+c+" input")},Object.defineProperty(e.prototype,"details",{get:function(){return this.selectedReason&&this.selectedReason.hasDetails?this.detailsTextArea.value:null},enumerable:!0,configurable:!0}),e.prototype.open=function(e){var t=this;this.modal.open({origin:e,title:s.$$("span",{},o.l("UsefulnessFeedbackExplainWhyImperative")).el,content:this.buildContent(),validation:function(){return t.shouldCallCloseEvent&&(t.options.onClosed(),t.shouldCallCloseEvent=!1),!0}}),this.shouldCallCloseEvent=!0},e.prototype.buildContent=function(){return s.$$("div",{className:l},this.buildExplanationSection(),this.buildButtonsSection()).el},e.prototype.buildExplanationSection=function(){var e=this.buildDetailsSection();return s.$$("div",{className:u},this.buildReasons(),e).el},e.prototype.buildButtonsSection=function(){return s.$$("div",{className:b},this.buildSendButton(),this.buildCancelButton())},e.prototype.buildReasons=function(){var e=this,t=s.$$("fieldset",{className:c},this.buildReasonsLabel()).el;return this.reasons=this.options.reasons.map(function(t){return e.buildReasonRadioButton(t)}),this.reasons[0].select(),this.reasons.forEach(function(e){return t.appendChild(e.getElement())}),t},e.prototype.buildReasonsLabel=function(){return s.$$("legend",{className:p},o.l("UsefulnessFeedbackReason")).el},e.prototype.buildDetailsSection=function(){return this.detailsSection=s.$$("div",{className:"coveo-hidden "+h},s.$$("label",{className:f,for:v},o.l("Details")).el,this.detailsTextArea=s.$$("textarea",{className:d,id:v,disabled:!0}).el)},e.prototype.buildSendButton=function(){var e=this,t=s.$$("button",{className:m,type:"button"},o.l("Send"));return t.on("click",function(){e.selectedReason.onSelect(),e.shouldCallCloseEvent=!1,e.modal.close()}),t.el},e.prototype.buildCancelButton=function(){var e=this,t=s.$$("button",{className:y,type:"button"},o.l("Cancel"));return t.on("click",function(){return e.modal.close()}),t.el},e.prototype.buildReasonRadioButton=function(e){var t=this;return new r.RadioButton(function(n){n.isSelected()&&(t.detailsSection.toggleClass("coveo-hidden",!e.hasDetails),t.detailsTextArea.disabled=!e.hasDetails,t.selectedReason=e)},e.label,"reason","coveo-reason-"+e.id)},e}();t.ExplanationModal=g},705:function(e,t){},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);n(558);var o=n(3),s=function(){function e(e,t,n,i){void 0===e&&(e=function(e){}),void 0===i&&(i=t),this.onChange=e,this.label=t,this.name=n,this.id=i,this.buildContent()}return e.doExport=function(){o.exportGlobally({RadioButton:e})},e.prototype.reset=function(){var e=this.isSelected();this.getRadio().checked=!1,e&&this.onChange(this)},e.prototype.select=function(e){void 0===e&&(e=!0);var t=this.isSelected();this.getRadio().checked=!0,!t&&e&&this.onChange(this)},e.prototype.build=function(){return this.element},e.prototype.getElement=function(){return this.element},e.prototype.getValue=function(){return this.label},e.prototype.isSelected=function(){return this.getRadio().checked},e.prototype.getRadio=function(){return i.$$(this.element).find("input")},e.prototype.getLabel=function(){return i.$$(this.element).find("label")},e.prototype.buildContent=function(){var e=this,t=i.$$("div",{className:"coveo-radio"}),n=i.$$("input",{type:"radio",name:this.name,id:this.id}),o=i.$$("label",{className:"coveo-radio-input-label",for:this.id});o.text(this.label),n.on("change",function(){e.onChange(e)}),t.append(n.el),t.append(o.el),this.element=t.el},e}();t.RadioButton=s}});
//# sourceMappingURL=SmartSnippet.min__d6b9bcc2bfcb024de483.js.map